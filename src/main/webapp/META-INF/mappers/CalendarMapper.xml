<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.awoo.dao.CalendarDAO">

	<select id="selectSchedule" resultType="CalendarVO">
		select cal_id, cal_title, cal_place, cal_content,
			DATE_FORMAT(cal_start, '%Y-%m-%d %H:%i') as cal_start,
			DATE_FORMAT(cal_end, '%Y-%m-%d %H:%i') as cal_end,
			cal_range, cal_allday, cal_show, cal_notice, empno, check_admin, approval
		from calendar
		order by cal_start
	</select>
	
	<select id="selectRestData" resultType="CalendarVO">
		select cal_id, cal_title, cal_place, cal_content,
			DATE_FORMAT(cal_start, '%Y-%m-%d %H:%i') as cal_start,
			DATE_FORMAT(cal_end, '%Y-%m-%d %H:%i') as cal_end,
			cal_range, cal_allday, cal_show, cal_notice, empno, check_admin, approval
		from calendar
		<where>
			cal_start between #{calStart} and #{calEnd}
		</where>
		order by cal_start
	</select>
	
	<insert id="insertSchedule">
		insert into calendar(cal_title, cal_place, cal_content, cal_start, cal_end, cal_range, cal_allday, cal_show, cal_notice, empno, check_admin, approval)
		values (#{calTitle}, #{calPlace}, #{calContent}, #{calStart}, #{calEnd}, #{calRange}, #{calAllday}, #{calShow}, #{calNotice}, #{empno}, #{checkAdmin}, #{approval})
	</insert>
	
</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.awoo.dao.LoginDAO">
	<select id="selectUser" resultType="PersonalInfoVO">
		select id, name, gender, birthday, email, tel_number, phone_number, address, empno from personal_info where empno = #{empno} and password = #{password}
	</select>
		
	<!-- 신입사원 최초 비밀번호 변경 -->
	<update id="updatePassword">
		update personal_info set password = #{newPW}
		where password = #{nowPW} and empno = #{empno_id}
	</update>
	
	<!-- 모든 정보 가져와서 검사 -->
	<select id="getVerification" resultType="PersonalInfoVO">
		select id, name, gender, birthday, email, tel_number, phone_number, address, empno, mail_auth, mail_key from personal_info
	</select>
</mapper>

